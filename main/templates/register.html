{% extends 'base.html' %}

{% block navbar %}
  {% endblock navbar %}

{% block content %}
<div class="auth-page-wrapper">
  
  <div class="auth-image-panel"></div>

  <div class="auth-form-panel">
    <section class="auth-card" style="margin: 0;">
      <h1 class="auth-title">Create an Account</h1>
      <p class="auth-subtitle">Join us and start your journey!</p>

      <form method="POST">
          {% csrf_token %}
          
          {% for field in form %}
          <div class="form-group">
              <label for="{{ field.id_for_label }}">{{ field.label }}</label>
              {{ field }}
              
              {% if field.errors %}
                <div class="muted small" style="color: #ef4444; margin-top: 0.25rem;">
                  {{ field.errors.as_text }}
                </div>
              {% endif %}
          </div>
          {% endfor %}

          <button type="submit" class="btn btn-primary" style="width: 100%; padding: 0.75rem;">Create Account</button>
      </form>

      {% if messages %}
      <div class="messages" style="margin-top: 1rem;">
        {% for message in messages %}
        <div class="message">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}

      <p class="muted" style="margin-top: 1.5rem; text-align: center;">
        Already have an account? <a href="{% url 'main:login' %}" class="link">Login here</a>
      </p>
    </section>
  </div>
</div>

<script>
  // Script untuk menambahkan kelas CSS ke semua input form Django
  document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('form input:not([type="submit"]), form select');
    inputs.forEach(input => {
      input.classList.add('form-input');
    });
  });
</script>
{% endblock content %}